<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Deemak</title>
  <link rel="stylesheet" href="./index.css">
</head>
<body>
  <div id="loading" class="loading">Loading...</div>

  <div id="auth_container" style="display: flex;">
    <!-- Login Form -->
    <div id="login_container">
      <div class="auth_card">
        <h1 class="auth_title">Welcome to Deemak</h1>
        <div id="login_message" class="auth_message"></div>
        <label>Username</label>
        <input type="text" id="login_username_input" placeholder="Enter username" autocomplete="off">
        <label>Password</label>
        <input type="password" id="login_password_input" placeholder="Enter password">
        <button class="auth_button" onclick="login()">Login</button>
        <p class="auth_link" onclick="showRegister()">Don't have an account? Register</p>
      </div>
    </div>

    <!-- Register Form -->
    <div id="register_container">
      <div class="auth_card">
        <h1 class="auth_title">Create Account</h1>
        <div id="register_message" class="auth_message"></div>
        <label>Username</label>
        <input type="text" id="register_username_input" placeholder="Choose a username" autocomplete="off">
        <label>Password</label>
        <input type="password" id="register_password_input" placeholder="Create a password">
        <button class="auth_button" onclick="register()">Register</button>
        <p class="auth_link" onclick="showLogin()">Already have an account? Login</p>
      </div>
    </div>
  </div>

  <div id="menu_container" style="display: none;">
    <div class="menu_card">
      <div id="menu_title">DEEMAK SHELL</div>
      <div class="menu_item"><button class="menu_button" onclick="startTerminal()">Start Shell</button></div>
      <div class="menu_item"><button class="menu_button" onclick="about()">About</button></div>
      <div class="menu_item"><button class="menu_button" onclick="logout()">Log Out</button></div>
    </div>
  </div>

  <div id="terminal_container" style="display: none;">
    <div class="terminal_card">
      <div id="terminal" onclick="focusTerminal()">
        <div class="terminal_line">
          <h4>Type commands and press Enter. Try <code>help</code> for more info.</h4>
        </div>
        <div class="terminal_line">
          <div class="dollor">$</div><input type="text" id="terminal_input" autocomplete="off">
        </div>
      </div>
    </div>
    <div class="terminal_ascii_art"></div>
  </div>

  <div id="about_container" style="display: none; text-align: left;">
    <div class="about_card">
      <h2>DEEMAK Shell - Version 1.0</h2>
      <p>A modern terminal shell built with <strong>Rust</strong> and <strong>Raylib</strong>.</p>
      <h3>Features</h3>
      <ul>
        <li>Command parsing</li>
        <li>Directory navigation</li>
        <li>File operations</li>
        <li>Customizable interface</li>
      </ul>
      <p><strong>Created by:</strong> IISc Databased Club</p>
      <p><strong>License:</strong> MIT License</p>
      <button class="back_button" onclick="backToMenu()">Back</button>
    </div>
  </div>

  <script type="module">
    import { BACKEND_URL } from './config.js';
    window.BACKEND_URL = BACKEND_URL;
  </script>
  <script type="module" src="./index.js"></script>
</body>
</html>
